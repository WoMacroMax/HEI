<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wanda‚Äôs Southern Cuisine ‚Äî Good Food Good ‚Äî Vibes Good Music ‚Äî Good Look</title>

  <!-- Primary SEO -->
  <meta name="description" content="Wanda‚Äôs Southern Cuisine ‚Äî Soulful dining at 906‚Äì908 Broadway, Bayonne, NJ. ‚Äî RSVP now." />
  <meta name="keywords" content="Wanda‚Äôs Southern Cuisine, Bayonne restaurant, Southern food NJ, , catering, comfort food" />
  <meta name="author" content="Wanda‚Äôs Southern Cuisine" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Wanda‚Äôs Southern Cuisine" />
  <meta property="og:title" content="Wanda‚Äôs Southern Cuisine ‚Äî 25 Years of Southern Flavor" />
  <meta property="og:description" content="Wanda‚Äôs Southern Cuisine celebrates 25 years of soulful dining at 906‚Äì908 Broadway, Bayonne, NJ. Join the  ‚Äî RSVP now." />
  <meta property="og:image" content="https://flyers.womacromax.com/wandas/assets/rsvp.png" />
  <meta property="og:image:alt" content="Wanda‚Äôs Southern Cuisine ‚Äî RSVP" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Wanda‚Äôs Southern Cuisine ‚Äî 25 Years of Southern Flavor" />
  <meta name="twitter:description" content="Wanda‚Äôs Southern Cuisine celebrates 25 years of soulful dining at 906‚Äì908 Broadway, Bayonne, NJ. Join the  ‚Äî RSVP now." />
  <meta name="twitter:image" content="https://flyers.womacromax.com/wandas/assets/rsvp.png" />
  <meta name="twitter:image:alt" content="Wanda‚Äôs Southern Cuisine ‚Äî RSVP" />

  <!-- Canonical -->
  <!-- <link rel="canonical" href="https://yourdomain.com/wanda-redirect/" /> -->

  <!-- Structured data: LocalBusiness + Event (condensed) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "LocalBusiness",
        "@id": "#wandasoutherncuisine",
        "name": "Wanda‚Äôs Southern Cuisine",
        "url": "",
        "image": "https://flyers.womacromax.com/wandas/assets/rsvp.png",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "906‚Äì908 Broadway",
          "addressLocality": "Bayonne",
          "addressRegion": "NJ",
          "postalCode": "07002",
          "addressCountry": "US"
        },
        "description": "Wanda‚Äôs Southern Cuisine ‚Äî Bayonne‚Äôs home for soulful Southern dining, catering, and celebration of Life!."
      },
      {
        "@type": "Event",
        "name": "Wanda‚Äôs Southern Cuisine ‚Äî Celebration of Life!",
        "startDate": "",
        "location": {
          "@type": "Place",
          "name": "Wanda‚Äôs Southern Cuisine",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "906‚Äì908 Broadway",
            "addressLocality": "Bayonne",
            "addressRegion": "NJ",
            "postalCode": "07002",
            "addressCountry": "US"
          }
        },
        "description": "Join Wanda‚Äôs Southern Cuisine as they ‚Äî Soulful Southern flavors ‚Äî RSVP now.",
        "image": "https://flyers.womacromax.com/wandas/assets/rsvp.png",
        "organizer": {
          "@type": "Organization",
          "name": "Wanda‚Äôs Southern Cuisine"
        }
      }
    ]
  }
  </script>

  <style>
    html,body { margin:0; height:100%; width:100%; background:black; overflow:hidden; font-family: "Poppins", sans-serif; }
    #videoLoader { position: fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:9999; transition:opacity 1.2s ease; background:black; }
    #redirectFrame { position:fixed; inset:0; width:100%; height:100%; border:0; opacity:0; transition:opacity 1.2s ease; z-index:1; }
    .fallback {
      display:none;
      position:fixed;
      inset:0;
      z-index:10000;
      background:linear-gradient(180deg, rgba(0,0,0,0.85), rgba(0,0,0,0.65));
      color:#fff; align-items:center; justify-content:center; text-align:center; padding:20px;
      font-size:1.05rem;
    }
    .fallback a { color:#ffd1e6; text-decoration:underline; }
    noscript .fallback { display:flex; }
  </style>
</head>
<body>
  <!-- Video loader -->
<!--   <video id="videoLoader" autoplay muted loop playsinline>
    <source src="https://flyers.womacromax.com/wandas/assets/WelcomeLizOnline.webm" type="video/webm">
    <img src="https://flyers.womacromax.com/wandas/assets/rsvp.png" alt="Wanda‚Äôs Southern Cuisine ‚Äî RSVP" style="width:100%;height:100%;object-fit:cover;">
  </video>
 -->
  <!-- Masked destination iframe -->
  <iframe id="redirectFrame" title="Wanda‚Äôs Southern Cuisine"></iframe>

  <!-- Fallback UI -->
  <div class="fallback" id="fallbackUI" role="alert">
    <div>
      <h2 style="margin:0 0 8px 0;">Welcome ‚Äî Wanda‚Äôs Southern Cuisine</h2>
      <p style="margin:0 0 12px 0;">If you are not redirected automatically, <a id="openDirect" href="#" target="_blank" rel="noopener">open the event page</a>.</p>
      <p style="opacity:.9;font-size:.92rem;margin:0">Address: 906‚Äì908 Broadway, Bayonne, NJ 07002</p>
    </div>
  </div>

  <noscript>
    <style> .fallback { display:flex !important; } </style>
    <div class="fallback">
      <div>
        <h2 style="margin:0 0 8px 0;">Wanda‚Äôs Southern Cuisine ‚Äî </h2>
        <p style="margin:0 0 12px 0;">JavaScript is disabled. <a href="https://order-artistry-app.lovable.app/?utm_source=lovable-editor" target="_blank" rel="noopener">Open the event page</a>.</p>
        <p style="opacity:.9;font-size:.92rem;margin:0">Address: 906‚Äì908 Broadway, Bayonne, NJ 07002</p>
      </div>
    </div>
  </noscript>

  <script>
    const targetURL = "https://order-artistry-app.lovable.app/?utm_source=lovable-editor";
    const video = document.getElementById('videoLoader');
    const iframe = document.getElementById('redirectFrame');
    const fallback = document.getElementById('fallbackUI');
    const openDirect = document.getElementById('openDirect');

    video.playbackRate = 0.95;
    iframe.src = targetURL;
    openDirect.href = targetURL;

    iframe.addEventListener('load', () => {
      iframe.style.opacity = '1';
      video.style.opacity = '0';
      setTimeout(() => {
        try { video.remove(); } catch(e) {}
      }, 3200);
    });

    const fallbackTimeout = setTimeout(() => {
      fallback.style.display = 'flex';
      fallback.style.alignItems = 'center';
      fallback.style.justifyContent = 'center';
    }, 15000);

    iframe.addEventListener('load', () => clearTimeout(fallbackTimeout));
  </script>
</body>
</html>
     <!-- REPLACED FORM WITH IFRAME (no padding, no horizontal scroll) -->
            <div class="delivery-section delivery-embed">
              <h3>üöö Request Delivery / Contact</h3>
              <iframe
                class="contact-iframe"
                title="Contact / Delivery Form"
                src="https://gtc-010-23-menu-fix-womacromax.replit.app/contact">
              </iframe>
            </div>
          </div>
        </div>
      </li>

      <!-- Slide 4: Promotions & Events -->
      <li data-color="#ffe3c0">
        <div class="content promo-slide">
          <div class="promo-wrap">
            <h2 class="promo-title">Promotions &amp; Events</h2>
            <div class="promo-grid">
              <div class="promo-card">
                <h3>Bayonne-Powered. Community-First.</h3>
                <p>Neighbors know us by name‚Äîand by plate. We support school fundraisers, youth programs, and local churches with flavorful menus that bring people together. From block parties to heritage month spotlights, our kitchen fuels the moments Bayonne loves.</p>
                <ul>
                  <li>Seasonal neighborhood specials and family bundles</li>
                  <li>Fundraiser packages with tiered pricing</li>
                  <li>Cultural celebration menus (Juneteenth, Hispanic Heritage, more)</li>
                </ul>
              </div>
              <div class="promo-card">
                <h3>Politically Connected‚ÄîAlways Welcoming</h3>
                <p>Well-connected with local leaders and organizations across Bayonne, we host <em>nonpartisan</em> town halls, listening sessions, and meet-and-greets. Expect professional staging, a respectful atmosphere, and hospitality that keeps the focus on community voices.</p>
                <ul>
                  <li>Podium, mic &amp; PA coordination</li>
                  <li>Press step-and-repeat &amp; media check-in</li>
                  <li>ADA-conscious seating and security liaison</li>
                </ul>
              </div>
              <div class="promo-card">
                <h3>Host Your Event With Us</h3>
                <p>Choose from chef‚Äôs-table tastings, carving stations, dessert bars, and mocktail pairings. Our boutique team handles rentals, staffing, and run-of-show so you can enjoy your guests.</p>
                <ul>
                  <li>Custom menus: halal, vegetarian, vegan, gluten-free</li>
                  <li>Private dining, corporate offsites, VIP green rooms</li>
                  <li>Setup, breakdown, and on-site service team</li>
                </ul>
              </div>
              <div class="promo-card">
                <h3>Everyone Loves Ms. Wanda‚Äôs</h3>
                <p>Our guests rave about soulful plates, warm service, and the sense of home we bring to every gathering. From first bites to final goodbyes, we aim for ‚Äúthat was perfect.‚Äù</p>
              </div>
            </div>

            <!-- Stylish event cards -->
            <div class="evt-row" id="eventsRow">
              <!-- Video (YouTube Short 1) -->
              <article class="evt-card">
                <img class="evt-thumb" src="https://img.youtube.com/vi/CWVnkmMbYCw/hqdefault.jpg" alt="Shorts 1">
                <div style="padding:1.1rem">
                  <h3 style="color:#111;margin:0 0 .4rem;font-size:1.6rem">Kitchen Moments ‚Äî Shorts</h3>
                  <div style="color:#555;font-weight:500;margin-bottom:.6rem">Behind the scenes with Ms. Wanda.</div>
                  <button class="btn" style="background:#ffb703;color:#222;font-weight:800;border-radius:10px;padding:.5rem .9rem"
                          data-event-type="video"
                          data-event-src="https://www.youtube.com/shorts/CWVnkmMbYCw"
                          data-open-event>Watch</button>
                </div>
              </article>

              <!-- Video (YouTube Short 2) -->
              <article class="evt-card">
                <img class="evt-thumb" src="https://img.youtube.com/vi/4NqePITNHkI/hqdefault.jpg" alt="Shorts 2">
                <div style="padding:1.1rem">
                  <h3 style="color:#111;margin:0 0 .4rem;font-size:1.6rem">Sizzle Reel ‚Äî Shorts</h3>
                  <div style="color:#555;font-weight:500;margin-bottom:.6rem">Quick bites of flavor.</div>
                  <button class="btn" style="background:#ffb703;color:#222;font-weight:800;border-radius:10px;padding:.5rem .9rem"
                          data-event-type="video"
                          data-event-src="https://www.youtube.com/shorts/4NqePITNHkI"
                          data-open-event>Watch</button>
                </div>
              </article>

              <!-- Image Event -->
              <article class="evt-card">
                <img class="evt-thumb" src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=1200&auto=format&fit=crop" alt="Community Night">
                <div style="padding:1.1rem">
                  <h3 style="color:#111;margin:0 0 .4rem;font-size:1.6rem">Community Night</h3>
                  <div style="color:#555;font-weight:500;margin-bottom:.6rem">Live music & tasting menu.</div>
                  <button class="btn" style="background:#ffb703;color:#222;font-weight:800;border-radius:10px;padding:.5rem .9rem"
                          data-event-type="image"
                          data-event-src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=1600&auto=format&fit=crop"
                          data-open-event>View</button>
                </div>
              </article>
            </div>
          </div>
          <button class="promo-cta" onclick="window.open('https://gtc-010-23-menu-fix-womacromax.replit.app/contact','_blank')">Call / Book Now</button>
        </div>
      </li>
    </ul>

    <nav>
      <div><a class="prev" href="#"></a></div>
      <div><a class="next" href="#"></a></div>
    </nav>
  </section>
  <!-- Padding-free media modal -->
  <div class="brand-modal" id="evtModal" aria-hidden="true" style="display:none;background:rgba(0,0,0,.9);z-index:12000;">
    <button class="evt-close" id="evtClose" aria-label="Close">√ó</button>
    <div class="brand-content" id="evtContent" role="dialog" aria-modal="true" aria-label="Event media" style="padding:0;">
      <!-- media injected dynamically -->
    </div>
  </div>

  <script>
    (function () {
      var cdSlider = document.querySelector('.cd-slider'),
          item = cdSlider.querySelectorAll('li'),
          nav = cdSlider.querySelector('nav');

      item[0].className = 'current_slide';

      /* Show right-side QR only on Slide 2 */
      function toggleBrandQR(){
        var qr = document.querySelector('.brand-qr-under');
        if (!qr) return;
        var onMenu = !!document.querySelector('li.current_slide#menu');
        qr.style.display = onMenu ? 'block' : 'none';
      }
      toggleBrandQR();

      for (var i = 0, len = item.length; i < len; i++) {
        var color = item[i].getAttribute('data-color');
        item[i].style.backgroundColor = color;
      }

      // Detect IE9
      var ua = window.navigator.userAgent;
      var msie = ua.indexOf('MSIE');
      if (msie > 0) {
        var version = parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)));
        if (version === 9) cdSlider.className = 'cd-slider ie9';
      }

      if (item.length <= 1) nav.style.display = 'none';

      /* Hide prev arrow on first slide only */
      function updatePrevVisibility(){
        var current = cdSlider.querySelector('li.current_slide');
        nav.children[0].style.display = (current === item[0]) ? 'none' : '';
      }

      /* Prev: wrap to last & clean ripple (fix blank) */
      function prevSlide() {
        var currentSlide = cdSlider.querySelector('li.current_slide'),
            prevElement  = currentSlide.previousElementSibling,
            target       = (prevElement !== null) ? prevElement : item[item.length - 1],
            prevColor    = target.getAttribute('data-color'),
            el           = document.createElement('span');

        currentSlide.className = '';
        target.className = 'current_slide';
        nav.children[0].appendChild(el);

        var size   = (cdSlider.clientWidth >= cdSlider.clientHeight) ? cdSlider.clientWidth * 2 : cdSlider.clientHeight * 2,
            ripple = nav.children[0].querySelector('span');

        ripple.style.height = size + 'px';
        ripple.style.width  = size + 'px';
        ripple.style.backgroundColor = prevColor;

        function cleanup(){ if (ripple && ripple.parentNode) ripple.parentNode.removeChild(ripple); }
        ripple.addEventListener('transitionend', cleanup);
        ripple.addEventListener('webkitTransitionEnd', cleanup);
        setTimeout(cleanup, 700);

        updateNavColor();
        toggleBrandQR();
        updatePrevVisibility(); /* NEW */
      }

      function nextSlide() {
        var currentSlide = cdSlider.querySelector('li.current_slide'),
            nextElement  = currentSlide.nextElementSibling,
            target       = (nextElement !== null) ? nextElement : item[0],
            nextColor    = target.getAttribute('data-color'),
            el           = document.createElement('span');

        currentSlide.className = '';
        target.className = 'current_slide';
        nav.children[1].appendChild(el);

        var size   = (cdSlider.clientWidth >= cdSlider.clientHeight) ? cdSlider.clientWidth * 2 : cdSlider.clientHeight * 2,
            ripple = nav.children[1].querySelector('span');

        ripple.style.height = size + 'px';
        ripple.style.width  = size + 'px';
        ripple.style.backgroundColor = nextColor;

        function cleanup(){ if (ripple && ripple.parentNode) ripple.parentNode.removeChild(ripple); }
        ripple.addEventListener('transitionend', cleanup);
        ripple.addEventListener('webkitTransitionEnd', cleanup);
        setTimeout(cleanup, 700);

        updateNavColor();
        toggleBrandQR();
        updatePrevVisibility(); /* NEW */
      }

      function updateNavColor() {
        var currentSlide = cdSlider.querySelector('li.current_slide');
        var nextColor = (currentSlide.nextElementSibling !== null)
          ? currentSlide.nextElementSibling.getAttribute('data-color')
          : item[0].getAttribute('data-color');
        var prevColor = (currentSlide.previousElementSibling !== null)
          ? currentSlide.previousElementSibling.getAttribute('data-color')
          : item[item.length - 1].getAttribute('data-color');

        if (item.length > 2) {
          nav.querySelector('.prev').style.backgroundColor = prevColor;
          nav.querySelector('.next').style.backgroundColor = nextColor;
        }
      }

      updateNavColor();
      updatePrevVisibility(); /* NEW on init */

      nav.querySelector('.next').addEventListener('click', function (e) {
        e.preventDefault(); e.stopPropagation();
        nextSlide(); updateNavColor();
        return false;
      });

      nav.querySelector('.prev').addEventListener('click', function (e) {
        e.preventDefault(); e.stopPropagation();
        prevSlide(); updateNavColor();
        return false;
      });

      // Slide-1 image carousel
      var carouselImages = document.querySelectorAll('.carousel-img');
      if (carouselImages.length > 0) {
        var currentImg = 0;
        setInterval(function () {
          carouselImages[currentImg].classList.remove('active');
          currentImg = (currentImg + 1) % carouselImages.length;
          carouselImages[currentImg].classList.add('active');
        }, 4000);
      }

      // Duplicate menu cards for infinite auto scroll demo
      var menuCards = document.getElementById('menuCards');
      if (menuCards) {
        var cards = menuCards.innerHTML;
        menuCards.innerHTML = cards + cards;
      }

      // Manual vertical scroll on Menu page, pause auto-scroll while interacting
      var menuScrollContainer = document.getElementById('menuScroll');
      var scrollTimeout, isDragging = false, startY = 0;

      function pauseAutoScrollTemporarily() {
        if (!menuCards) return;
        menuCards.classList.add('paused');
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(function(){
          menuCards.classList.remove('paused');
        }, 3000);
      }

      if (menuScrollContainer && menuCards) {
        menuScrollContainer.addEventListener('scroll', pauseAutoScrollTemporarily, {passive:true});
        menuScrollContainer.addEventListener('wheel', pauseAutoScrollTemporarily, {passive:true});

        menuScrollContainer.addEventListener('touchstart', function(e){
          isDragging = true; startY = e.touches[0].clientY; pauseAutoScrollTemporarily();
        }, {passive:true});
        menuScrollContainer.addEventListener('touchmove', function(e){
          if (!isDragging) return;
          var currentY = e.touches[0].clientY;
          var deltaY = startY - currentY; startY = currentY;
          menuScrollContainer.scrollTop += deltaY;
        }, {passive:true});
        menuScrollContainer.addEventListener('touchend', function(){ isDragging = false; });

        menuScrollContainer.addEventListener('mousedown', function(e){
          isDragging = true; startY = e.clientY; pauseAutoScrollTemporarily(); e.preventDefault();
        });
        document.addEventListener('mousemove', function(e){
          if (!isDragging) return;
          var deltaY = startY - e.clientY; startY = e.clientY;
          menuScrollContainer.scrollTop += deltaY;
        });
        document.addEventListener('mouseup', function(){ isDragging = false; });
      }

      /* CART (unchanged) */
      var cart = {}; // name -> { qty, price, thumb }
      var cartModal = document.getElementById('cartModal');
      var cartBtn   = document.getElementById('cartBtn');
      var closeCart = document.getElementById('closeCart');
      var cartItems = document.getElementById('cartItems');
      var cartCount = document.getElementById('cartCount');
      var tackBar   = document.getElementById('tackBar');
      var summaryDistinct = document.getElementById('summaryDistinct');
      var summaryQty      = document.getElementById('summaryQty');
      var summaryTotal    = document.getElementById('summaryTotal');
      var subtotalValue   = document.getElementById('subtotalValue');
      var submitOrderBtn  = document.getElementById('submitOrderBtn');

      function money(n){ return n.toLocaleString('en-US',{style:'currency',currency:'USD'}); }

      cartBtn.addEventListener('click', function () { cartModal.classList.add('active'); });
      closeCart.addEventListener('click', function () { cartModal.classList.remove('active'); });
      cartModal.addEventListener('click', function (e) { if (e.target === cartModal) cartModal.classList.remove('active'); });

      document.addEventListener('click', function(e){
        var card = e.target.closest('.menu-card');
        if (!card) return;
        var name  = card.dataset.name || (card.querySelector('h3') ? card.querySelector('h3').textContent.trim() : 'Menu Item');
        var price = parseFloat(card.dataset.price || '0') || 0;
        var thumb = (card.querySelector('img') && card.querySelector('img').src) ? card.querySelector('img').src : '';
        addToCart(name, price, thumb);
        card.style.transform = 'scale(0.95)';
        setTimeout(function(){ card.style.transform = 'scale(1)'; }, 180);
      });

      function addToCart(name, price, thumb){
        if (!cart[name]) cart[name] = { qty:0, price: price, thumb: thumb };
        cart[name].qty += 1;
        updateCart();
      }
      function removeOne(name){ if (!cart[name]) return; cart[name].qty -= 1; if (cart[name].qty <= 0) delete cart[name]; updateCart(); }
      function addOne(name){ if (!cart[name]) return; cart[name].qty += 1; updateCart(); }
      function removeAll(name){ if (!cart[name]) return; delete cart[name]; updateCart(); }

      function setSubmitEnabled(enabled){
        if (!submitOrderBtn) return;
        if (enabled){
          submitOrderBtn.classList.remove('disabled');
          submitOrderBtn.setAttribute('aria-disabled','false');
          submitOrderBtn.removeAttribute('tabindex');
        } else {
          submitOrderBtn.classList.add('disabled');
          submitOrderBtn.setAttribute('aria-disabled','true');
          submitOrderBtn.setAttribute('tabindex','-1');
        }
      }

      function updateCart(){
        var names = Object.keys(cart);
        var distinct = names.length;
        var qty = 0, total = 0;
        names.forEach(function(n){ qty += cart[n].qty; total += cart[n].qty * cart[n].price; });
        cartCount.textContent = qty;

        tackBar.innerHTML = '';
        names.forEach(function(n){
          var t = document.createElement('div'); t.className = 'tack'; t.title = n + ' √ó ' + cart[n].qty;
          var img = document.createElement('img'); img.src = cart[n].thumb || ''; img.alt = n;
          var badge = document.createElement('span'); badge.className = 'tack-badge'; badge.textContent = cart[n].qty;
          t.appendChild(img); t.appendChild(badge); tackBar.appendChild(t);
        });

        summaryDistinct.textContent = distinct + (distinct === 1 ? ' item' : ' items');
        summaryQty.textContent      = qty + ' qty';
        summaryTotal.textContent    = money(total);
        subtotalValue.textContent   = money(total);
        setSubmitEnabled(qty > 0);

        if (qty === 0) { cartItems.innerHTML = '<li class="empty-cart">Your cart is empty</li>'; return; }
        cartItems.innerHTML = '';
        names.forEach(function(n){
          var li = document.createElement('li');
          li.className = 'cart-item';
          li.innerHTML =
            '<div class="cart-thumb"><img src="'+(cart[n].thumb||'')+'" alt="'+n+'"></div>'+
            '<div class="item-name">'+n+'</div>'+
            '<div class="qty-controls">'+
              '<button class="btn dec" data-name="'+n+'">‚àí</button>'+
              '<span>'+cart[n].qty+'</span>'+
              '<button class="btn inc" data-name="'+n+'">Ôºã</button>'+
            '</div>'+
            '<div class="item-line">'+money(cart[n].price)+' each</div>'+
            '<button class="btn remove" data-remove="'+n+'">Remove</button>';
          cartItems.appendChild(li);

          var lt = document.createElement('div');
          lt.className = 'item-line';
          lt.style.gridColumn = '1 / -1';
          lt.style.textAlign = 'right';
          lt.textContent = 'Line total: ' + money(cart[n].qty * cart[n].price);
          cartItems.appendChild(lt);
        });
      }

      cartItems.addEventListener('click', function(e){
        if (e.target.classList.contains('dec')) { removeOne(e.target.dataset.name); }
        else if (e.target.classList.contains('inc')) { addOne(e.target.dataset.name); }
        else if (e.target.dataset.remove) { removeAll(e.target.dataset.remove); }
      });

      // Blog expand/collapse
      var blogBox = document.getElementById('blogBox');
      if (blogBox) blogBox.addEventListener('click', function(){ blogBox.classList.toggle('expanded'); });

      // Share modal
      var shareBtn = document.getElementById('shareBtn');
      var shareModal = document.getElementById('shareModal');
      var closeShare = document.getElementById('closeShare');
      if (shareBtn && shareModal && closeShare){
        shareBtn.addEventListener('click', function(){
          shareModal.classList.add('active'); shareModal.setAttribute('aria-hidden','false');
        });
        closeShare.addEventListener('click', function(){
          shareModal.classList.remove('active'); shareModal.setAttribute('aria-hidden','true');
        });
        shareModal.addEventListener('click', function(e){
          if(e.target === shareModal){
            shareModal.classList.remove('active'); shareModal.setAttribute('aria-hidden','true');
          }
        });
      }

      // BRAND MODAL (WoMacroMAX.com)
      var brandLink = document.getElementById('brandLink');
      var brandModal = document.getElementById('brandModal');
      var brandClose = document.getElementById('brandClose');

      function openBrandModal(){
        brandModal.classList.add('active');
        brandModal.setAttribute('aria-hidden','false');
        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
      }
      function closeBrandModal(){
        brandModal.classList.remove('active');
        brandModal.setAttribute('aria-hidden','true');
        document.documentElement.style.overflow = '';
        document.body.style.overflow = '';
      }

      if (brandLink && brandModal && brandClose){
        brandLink.addEventListener('click', function(e){ e.preventDefault(); openBrandModal(); });
        brandLink.addEventListener('keydown', function(e){
          if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openBrandModal(); }
        });
        brandClose.addEventListener('click', closeBrandModal);
        brandModal.addEventListener('click', function(e){
          if(e.target === brandModal) closeBrandModal();
        });
        window.addEventListener('keydown', function(e){
          if(e.key === 'Escape' && brandModal.classList.contains('active')) closeBrandModal();
        });
      }

      /* Slide 2: category tabs -> filter by data-category */
      (function(){
        var bar = document.getElementById('menuTabs');
        if (!bar) return;

        var items = Array.from(document.querySelectorAll('#menuCards .menu-card'));

        function applyFilter(cat){
          items.forEach(function(el){
            var c = (el.getAttribute('data-category') || 'food').toLowerCase();
            el.style.display = (cat === 'all' || c === cat) ? '' : 'none';
          });
        }

        bar.addEventListener('click', function(e){
          var btn = e.target.closest('button[data-filter]');
          if (!btn) return;
          bar.querySelectorAll('.nav-link').forEach(function(b){ b.classList.remove('active'); });
          btn.classList.add('active');
          applyFilter(btn.getAttribute('data-filter'));
        });

        applyFilter('all');
      })();

      /* Events modal (no padding) */
      (function(){
        var evtModal = document.getElementById('evtModal');
        var evtContent = document.getElementById('evtContent');
        var evtClose = document.getElementById('evtClose');

        function toEmbed(url){
          try{
            var u = new URL(url);
            if (u.hostname.includes('youtube.com') && u.pathname.startsWith('/shorts/')) {
              var id = u.pathname.split('/')[2]; return 'https://www.youtube.com/embed/'+id+'?autoplay=1&rel=0';
            }
            if (u.hostname === 'youtu.be') return 'https://www.youtube.com/embed/'+u.pathname.slice(1)+'?autoplay=1&rel=0';
            if (u.searchParams.get('v')) return 'https://www.youtube.com/embed/'+u.searchParams.get('v')+'?autoplay=1&rel=0';
          }catch(e){}
          return url;
        }

        function openEvt(type, src){
          if (!evtModal || !evtContent) return;
          evtContent.innerHTML = '';
          if (type === 'video') {
            var iframe = document.createElement('iframe');
            iframe.className='evt-modal-viewport';
            iframe.src = toEmbed(src);
            iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
            iframe.allowFullscreen = true;
            evtContent.appendChild(iframe);
          } else if (type === 'image') {
            var img = document.createElement('img');
            img.className='evt-modal-img'; img.src=src; img.alt='Event media';
            evtContent.appendChild(img);
          }
          evtModal.style.display='block';
          evtModal.setAttribute('aria-hidden','false');
          document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden';
        }
        function closeEvt(){
          if (!evtModal) return;
          evtContent.innerHTML='';
          evtModal.style.display='none';
          evtModal.setAttribute('aria-hidden','true');
          document.documentElement.style.overflow=''; document.body.style.overflow='';
        }

        document.addEventListener('click', function(e){
          var btn = e.target.closest('[data-open-event]');
          if (!btn) return;
          var type = btn.getAttribute('data-event-type');
          var src  = btn.getAttribute('data-event-src');
          openEvt(type, src);
        });
        if (evtClose) evtClose.addEventListener('click', closeEvt);
        if (evtModal) evtModal.addEventListener('click', function(e){ if (e.target === evtModal) closeEvt(); });
        window.addEventListener('keydown', function(e){ if(e.key==='Escape' && evtModal && evtModal.style.display==='block') closeEvt(); });
      })();
    })();
  </script>
</body>
</html>
