{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\blab9\\\\source\\\\repos\\\\HEI\\\\Test\\\\WoMacroMAX\\\\Utilities\\\\image-editor\\\\src\\\\ImageEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageEditor = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [originalImage, setOriginalImage] = useState(null);\n  const [rotation, setRotation] = useState(0);\n  const [flipped, setFlipped] = useState(false);\n  const [status, setStatus] = useState('Waiting for upload...');\n  const [fileInfo, setFileInfo] = useState('');\n  const handleUpload = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setStatus('Loading...');\n    const reader = new FileReader();\n    reader.onload = event => {\n      const img = new Image();\n      img.onload = () => {\n        setOriginalImage(img);\n        setFileInfo(`${file.name} (${(file.size / 1024).toFixed(1)} KB)`);\n        drawImage(img, 0, false);\n        setStatus('✅ Loaded locally.');\n      };\n      img.src = event.target.result;\n    };\n    reader.readAsDataURL(file);\n  };\n  const drawImage = (img, angle, isFlipped) => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const w = img.width;\n    const h = img.height;\n    const rotated = angle % 180 !== 0;\n    canvas.width = rotated ? h : w;\n    canvas.height = rotated ? w : h;\n    ctx.save();\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(angle * Math.PI / 180);\n    ctx.scale(isFlipped ? -1 : 1, 1);\n    ctx.drawImage(img, -w / 2, -h / 2);\n    ctx.restore();\n  };\n  const handleRotate = () => {\n    if (!originalImage) return;\n    const newRotation = (rotation + 90) % 360;\n    setRotation(newRotation);\n    drawImage(originalImage, newRotation, flipped);\n  };\n  const handleFlip = () => {\n    if (!originalImage) return;\n    const newFlip = !flipped;\n    setFlipped(newFlip);\n    drawImage(originalImage, rotation, newFlip);\n  };\n  const handleSave = () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob(blob => {\n      const a = document.createElement('a');\n      a.href = URL.createObjectURL(blob);\n      a.download = 'edited-image.png';\n      a.click();\n      setStatus('✅ Image saved locally.');\n    }, 'image/png');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-5 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"WoMacroMAX React Image Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleUpload,\n      className: \"form-control w-50 mx-auto mb-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-muted\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        maxWidth: '100%',\n        borderRadius: '8px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mx-1\",\n        onClick: handleRotate,\n        children: \"Rotate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mx-1\",\n        onClick: handleFlip,\n        children: \"Flip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success mx-1\",\n        onClick: handleSave,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-muted\",\n      children: fileInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageEditor, \"T19Q7nNp2jhAKFWE/XEeXOkdAWI=\");\n_c = ImageEditor;\nexport default ImageEditor;\nvar _c;\n$RefreshReg$(_c, \"ImageEditor\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","ImageEditor","_s","canvasRef","originalImage","setOriginalImage","rotation","setRotation","flipped","setFlipped","status","setStatus","fileInfo","setFileInfo","handleUpload","e","file","target","files","reader","FileReader","onload","event","img","Image","name","size","toFixed","drawImage","src","result","readAsDataURL","angle","isFlipped","canvas","current","ctx","getContext","w","width","h","height","rotated","save","translate","rotate","Math","PI","scale","restore","handleRotate","newRotation","handleFlip","newFlip","handleSave","toBlob","blob","a","document","createElement","href","URL","createObjectURL","download","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","ref","style","maxWidth","borderRadius","onClick","_c","$RefreshReg$"],"sources":["C:/Users/blab9/source/repos/HEI/Test/WoMacroMAX/Utilities/image-editor/src/ImageEditor.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\n\r\nconst ImageEditor = () => {\r\n  const canvasRef = useRef(null);\r\n  const [originalImage, setOriginalImage] = useState(null);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [flipped, setFlipped] = useState(false);\r\n  const [status, setStatus] = useState('Waiting for upload...');\r\n  const [fileInfo, setFileInfo] = useState('');\r\n\r\n  const handleUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    setStatus('Loading...');\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setOriginalImage(img);\r\n        setFileInfo(`${file.name} (${(file.size / 1024).toFixed(1)} KB)`);\r\n        drawImage(img, 0, false);\r\n        setStatus('✅ Loaded locally.');\r\n      };\r\n      img.src = event.target.result;\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const drawImage = (img, angle, isFlipped) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const w = img.width;\r\n    const h = img.height;\r\n\r\n    const rotated = angle % 180 !== 0;\r\n    canvas.width = rotated ? h : w;\r\n    canvas.height = rotated ? w : h;\r\n\r\n    ctx.save();\r\n    ctx.translate(canvas.width / 2, canvas.height / 2);\r\n    ctx.rotate((angle * Math.PI) / 180);\r\n    ctx.scale(isFlipped ? -1 : 1, 1);\r\n    ctx.drawImage(img, -w / 2, -h / 2);\r\n    ctx.restore();\r\n  };\r\n\r\n  const handleRotate = () => {\r\n    if (!originalImage) return;\r\n    const newRotation = (rotation + 90) % 360;\r\n    setRotation(newRotation);\r\n    drawImage(originalImage, newRotation, flipped);\r\n  };\r\n\r\n  const handleFlip = () => {\r\n    if (!originalImage) return;\r\n    const newFlip = !flipped;\r\n    setFlipped(newFlip);\r\n    drawImage(originalImage, rotation, newFlip);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const canvas = canvasRef.current;\r\n    canvas.toBlob((blob) => {\r\n      const a = document.createElement('a');\r\n      a.href = URL.createObjectURL(blob);\r\n      a.download = 'edited-image.png';\r\n      a.click();\r\n      setStatus('✅ Image saved locally.');\r\n    }, 'image/png');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-5 text-center\">\r\n      <h2 className=\"mb-4\">WoMacroMAX React Image Editor</h2>\r\n      <input type=\"file\" accept=\"image/*\" onChange={handleUpload} className=\"form-control w-50 mx-auto mb-3\" />\r\n      <p className=\"text-muted\">{status}</p>\r\n      <canvas ref={canvasRef} style={{ maxWidth: '100%', borderRadius: '8px' }}></canvas>\r\n      <div className=\"my-3\">\r\n        <button className=\"btn btn-secondary mx-1\" onClick={handleRotate}>Rotate</button>\r\n        <button className=\"btn btn-secondary mx-1\" onClick={handleFlip}>Flip</button>\r\n        <button className=\"btn btn-success mx-1\" onClick={handleSave}>Save</button>\r\n      </div>\r\n      <p className=\"text-muted\">{fileInfo}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}